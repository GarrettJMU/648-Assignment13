{"ast":null,"code":"var _jsxFileName = \"/Users/garretthughes/Downloads/assignment13/assignment13/src/Products.js\";\nimport React, { Component } from 'react';\nimport Filters from './Filters';\nimport ProductTable from './ProductTable';\nimport ProductForm from './ProductForm';\nimport $ from 'jquery';\n\nclass Products extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filterText: '',\n      products: []\n    };\n    this.handleFilter = this.handleFilter.bind(this);\n    this.handleDestroy = this.handleDestroy.bind(this);\n    this.handleSave = this.handleSave.bind(this);\n  }\n\n  componentWillMount() {\n    this.getProducts();\n  }\n\n  getProducts() {\n    $.ajax({\n      type: \"GET\",\n      url: 'http://localhost:3001/product/get/'\n    }).then(resp => {\n      // console.table(resp)\n      this.setState({\n        products: resp\n      });\n    });\n  }\n\n  handleFilter(filterInput) {\n    this.setState(filterInput);\n  }\n\n  handleSave(product) {\n    if (!product.id) {\n      product.id = new Date().getTime();\n    }\n\n    $.ajax({\n      type: \"POST\",\n      url: 'http://localhost:3001/product/create',\n      data: product\n    }).then(() => {\n      this.getProducts();\n    });\n  }\n\n  handleDestroy(productId) {\n    this.setState(prevState => {\n      let products = prevState.products;\n      delete products[productId];\n      return {\n        products\n      };\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"My Inventory\"), React.createElement(Filters, {\n      onFilter: this.handleFilter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), React.createElement(ProductTable, {\n      products: this.state.products,\n      filterText: this.state.filterText,\n      onDestroy: this.handleDestroy,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(ProductForm, {\n      onSave: this.handleSave,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Products;","map":{"version":3,"sources":["/Users/garretthughes/Downloads/assignment13/assignment13/src/Products.js"],"names":["React","Component","Filters","ProductTable","ProductForm","$","Products","constructor","props","state","filterText","products","handleFilter","bind","handleDestroy","handleSave","componentWillMount","getProducts","ajax","type","url","then","resp","setState","filterInput","product","id","Date","getTime","data","productId","prevState","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,CAAP,MAAc,QAAd;;AAEA,MAAMC,QAAN,SAAuBL,SAAvB,CAAiC;AAC/BM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,UAAU,EAAE,EADD;AAEXC,MAAAA,QAAQ,EAAE;AAFC,KAAb;AAIA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBD,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKE,UAAL,GAAkB,KAAKA,UAAL,CAAgBF,IAAhB,CAAqB,IAArB,CAAlB;AACD;;AAEDG,EAAAA,kBAAkB,GAAG;AACnB,SAAKC,WAAL;AACD;;AAEDA,EAAAA,WAAW,GAAG;AACZZ,IAAAA,CAAC,CAACa,IAAF,CAAO;AACLC,MAAAA,IAAI,EAAE,KADD;AAELC,MAAAA,GAAG,EAAE;AAFA,KAAP,EAGGC,IAHH,CAGQC,IAAI,IAAI;AACd;AACA,WAAKC,QAAL,CAAc;AACZZ,QAAAA,QAAQ,EAAEW;AADE,OAAd;AAGD,KARD;AASD;;AAEDV,EAAAA,YAAY,CAACY,WAAD,EAAc;AACxB,SAAKD,QAAL,CAAcC,WAAd;AACD;;AAEDT,EAAAA,UAAU,CAACU,OAAD,EAAU;AAClB,QAAI,CAACA,OAAO,CAACC,EAAb,EAAiB;AACfD,MAAAA,OAAO,CAACC,EAAR,GAAa,IAAIC,IAAJ,GAAWC,OAAX,EAAb;AACD;;AAEDvB,IAAAA,CAAC,CAACa,IAAF,CAAO;AACLC,MAAAA,IAAI,EAAE,MADD;AAELC,MAAAA,GAAG,EAAE,sCAFA;AAGLS,MAAAA,IAAI,EAAEJ;AAHD,KAAP,EAIGJ,IAJH,CAIQ,MAAI;AACV,WAAKJ,WAAL;AACD,KAND;AAOD;;AAEDH,EAAAA,aAAa,CAACgB,SAAD,EAAY;AACvB,SAAKP,QAAL,CAAeQ,SAAD,IAAe;AAC3B,UAAIpB,QAAQ,GAAGoB,SAAS,CAACpB,QAAzB;AACA,aAAOA,QAAQ,CAACmB,SAAD,CAAf;AACA,aAAO;AAAEnB,QAAAA;AAAF,OAAP;AACD,KAJD;AAKD;;AAEDqB,EAAAA,MAAM,GAAG;AACP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAEE,oBAAC,OAAD;AACE,MAAA,QAAQ,EAAE,KAAKpB,YADjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAKE,oBAAC,YAAD;AACE,MAAA,QAAQ,EAAE,KAAKH,KAAL,CAAWE,QADvB;AAEE,MAAA,UAAU,EAAE,KAAKF,KAAL,CAAWC,UAFzB;AAGE,MAAA,SAAS,EAAE,KAAKI,aAHlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,EAUE,oBAAC,WAAD;AACE,MAAA,MAAM,EAAE,KAAKC,UADf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVF,CADF;AAgBD;;AAvE8B;;AA0EjC,eAAeT,QAAf","sourcesContent":["import React, { Component } from 'react'\r\nimport Filters from './Filters'\r\nimport ProductTable from './ProductTable'\r\nimport ProductForm from './ProductForm'\r\nimport $ from 'jquery'\r\n\r\nclass Products extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      filterText: '',\r\n      products: []\r\n    }\r\n    this.handleFilter = this.handleFilter.bind(this)\r\n    this.handleDestroy = this.handleDestroy.bind(this)\r\n    this.handleSave = this.handleSave.bind(this)\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.getProducts()\r\n  }\r\n\r\n  getProducts() {\r\n    $.ajax({\r\n      type: \"GET\",\r\n      url: 'http://localhost:3001/product/get/'\r\n    }).then(resp => {\r\n      // console.table(resp)\r\n      this.setState({\r\n        products: resp\r\n      })\r\n    })\r\n  }\r\n\r\n  handleFilter(filterInput) {\r\n    this.setState(filterInput)\r\n  }\r\n\r\n  handleSave(product) {\r\n    if (!product.id) {\r\n      product.id = new Date().getTime()\r\n    }\r\n\r\n    $.ajax({\r\n      type: \"POST\",\r\n      url: 'http://localhost:3001/product/create',\r\n      data: product\r\n    }).then(()=>{\r\n      this.getProducts()\r\n    })\r\n  }\r\n\r\n  handleDestroy(productId) {\r\n    this.setState((prevState) => {\r\n      let products = prevState.products\r\n      delete products[productId]\r\n      return { products }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>My Inventory</h1>\r\n        <Filters\r\n          onFilter={this.handleFilter}\r\n        />\r\n        <ProductTable\r\n          products={this.state.products}\r\n          filterText={this.state.filterText}\r\n          onDestroy={this.handleDestroy}\r\n        />\r\n        <ProductForm\r\n          onSave={this.handleSave}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Products\r\n"]},"metadata":{},"sourceType":"module"}