{"ast":null,"code":"var _jsxFileName = \"/Users/garretthughes/Downloads/assignment13/assignment13/src/Products.js\";\nimport React, { Component } from 'react';\nimport Filters from './Filters';\nimport ProductTable from './ProductTable';\nimport ProductForm from './ProductForm';\nimport $ from 'jquery';\nlet PRODUCTS = {\n  '1': {\n    id: 1,\n    category: 'Music',\n    price: '$459.99',\n    name: 'Clarinet'\n  },\n  '2': {\n    id: 2,\n    category: 'Music',\n    price: '$5,000',\n    name: 'Cello'\n  },\n  '3': {\n    id: 3,\n    category: 'Music',\n    price: '$3,500',\n    name: 'Tuba'\n  },\n  '4': {\n    id: 4,\n    category: 'Furniture',\n    price: '$799',\n    name: 'Chaise Lounge'\n  },\n  '5': {\n    id: 5,\n    category: 'Furniture',\n    price: '$1,300',\n    name: 'Dining Table'\n  },\n  '6': {\n    id: 6,\n    category: 'Furniture',\n    price: '$100',\n    name: 'Bean Bag'\n  }\n};\n\nclass Products extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filterText: '',\n      products: []\n    };\n    this.handleFilter = this.handleFilter.bind(this);\n    this.handleDestroy = this.handleDestroy.bind(this);\n    this.handleSave = this.handleSave.bind(this);\n  }\n\n  componentWillMount() {\n    this.getProducts();\n  }\n\n  componentDidUpdate() {\n    this.getProducts();\n  }\n\n  getProducts() {\n    $.ajax({\n      type: \"GET\",\n      url: 'http://localhost:3001/product/get/'\n    }).then(resp => {\n      this.setState({\n        products: resp\n      });\n    });\n  }\n\n  handleFilter(filterInput) {\n    this.setState(filterInput);\n  }\n\n  handleSave(product) {\n    if (!product.id) {\n      product.id = new Date().getTime();\n    }\n\n    $.ajax({\n      type: \"POST\",\n      url: 'http://localhost:3001/product/create',\n      data: product\n    });\n  }\n\n  handleDestroy(productId) {\n    this.setState(prevState => {\n      let products = prevState.products;\n      delete products[productId];\n      return {\n        products\n      };\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"My Inventory\"), React.createElement(Filters, {\n      onFilter: this.handleFilter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(ProductTable, {\n      products: this.state.products,\n      filterText: this.state.filterText,\n      onDestroy: this.handleDestroy,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(ProductForm, {\n      onSave: this.handleSave,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Products;","map":{"version":3,"sources":["/Users/garretthughes/Downloads/assignment13/assignment13/src/Products.js"],"names":["React","Component","Filters","ProductTable","ProductForm","$","PRODUCTS","id","category","price","name","Products","constructor","props","state","filterText","products","handleFilter","bind","handleDestroy","handleSave","componentWillMount","getProducts","componentDidUpdate","ajax","type","url","then","resp","setState","filterInput","product","Date","getTime","data","productId","prevState","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport Filters from './Filters'\r\nimport ProductTable from './ProductTable'\r\nimport ProductForm from './ProductForm'\r\nimport $ from 'jquery'\r\n\r\nlet PRODUCTS = {\r\n  '1': { id: 1, category: 'Music', price: '$459.99', name: 'Clarinet' },\r\n  '2': { id: 2, category: 'Music', price: '$5,000', name: 'Cello' },\r\n  '3': { id: 3, category: 'Music', price: '$3,500', name: 'Tuba' },\r\n  '4': { id: 4, category: 'Furniture', price: '$799', name: 'Chaise Lounge' },\r\n  '5': { id: 5, category: 'Furniture', price: '$1,300', name: 'Dining Table' },\r\n  '6': { id: 6, category: 'Furniture', price: '$100', name: 'Bean Bag' }\r\n}\r\n\r\nclass Products extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      filterText: '',\r\n      products: []\r\n    }\r\n    this.handleFilter = this.handleFilter.bind(this)\r\n    this.handleDestroy = this.handleDestroy.bind(this)\r\n    this.handleSave = this.handleSave.bind(this)\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.getProducts()\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.getProducts()\r\n  }\r\n\r\n  getProducts() {\r\n    $.ajax({\r\n      type: \"GET\",\r\n      url: 'http://localhost:3001/product/get/'\r\n    }).then(resp => {\r\n      this.setState({\r\n        products: resp\r\n      })\r\n    })\r\n  }\r\n\r\n  handleFilter(filterInput) {\r\n    this.setState(filterInput)\r\n  }\r\n\r\n  handleSave(product) {\r\n    if (!product.id) {\r\n      product.id = new Date().getTime()\r\n    }\r\n\r\n    $.ajax({\r\n      type: \"POST\",\r\n      url: 'http://localhost:3001/product/create',\r\n      data: product\r\n    })\r\n  }\r\n\r\n  handleDestroy(productId) {\r\n    this.setState((prevState) => {\r\n      let products = prevState.products\r\n      delete products[productId]\r\n      return { products }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>My Inventory</h1>\r\n        <Filters\r\n          onFilter={this.handleFilter}\r\n        />\r\n        <ProductTable\r\n          products={this.state.products}\r\n          filterText={this.state.filterText}\r\n          onDestroy={this.handleDestroy}\r\n        />\r\n        <ProductForm\r\n          onSave={this.handleSave}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Products\r\n"]},"metadata":{},"sourceType":"module"}